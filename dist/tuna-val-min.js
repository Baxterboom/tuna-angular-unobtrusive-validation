var Tuna;!function(n){n.ValidatorEvents={onElementError:function(n,r,e){}},n.Validators={texts:{regex:"Invalid value",date:"Invalid date",email:"Invalid email",range:"Range must be between {0} and {1}",digits:"Only digits allowed",number:"Only numbers allowed",required:"Required field",equalto:"{0} must match {1}"},rules:{equalto:function(n,r,e){var t=e.valOther;return function(n,r){return!r||angular.element(t).val()==r}},required:function(n,r,e){var t=new RegExp(/^$/);return function(n,r){return!t.test(r||"")}},regex:function(n,r,e){var t=new RegExp(e.valRegexPattern);return function(n,r){return!r||t.test(r)}},date:function(n,r,e){return function(n,r){if(!r)return!0;if(r.length<4)return!1;var e=Date.parse(r);return!1===isNaN(e)}},digits:function(n,r,e){return function(n,r){return!r||1==r.length&&!isNaN(r)}},number:function(n,r,e){return function(n,r){return!r||r.length>0&&!isNaN(r)}},email:function(n,r,e){var t=/.+@.+\..+/;return function(n,r){return!r||t.test(r)}},range:function(n,r,e){var t=e.valRangeMin,a=e.valRangeMax;return function(n,r){if(!r)return!0;if(isNaN(r))return!1;var e=parseFloat(r),u=null==t||e>=t,i=null==a||e<=a;return u&&i}},length:function(n,r,e){var t=e.valLengthMin,a=e.valLengthMax;return function(n,r){if(!r)return!0;var e=(r||"").length,u=!t||e>=t,i=!a||e<=a;return u&&i}}}}}(Tuna||(Tuna={}));var Tuna;!function(n){angular.module("tuna",[]).directive("val",["$parse","$compile",function(r,e){var t=/^(data-)?val-([^-]+)$/;return{restrict:"A",require:["^^form","?ngModel"],link:function(e,a,u,i){function l(){return!0===f.$valid}function o(n){var r="Undefined error message";for(var e in n)if(r=s.texts[e],n[e])break;return r}var f=(i[0],i[1]),s=function(a){if(null===f||!0!==r(u.val)())return null;var i={rules:{},texts:{}},l=a[0].attributes;for(var o in l){var s=l[o],v=t.exec(s.name);if(v){var c=v[v.length-1].toLowerCase(),d=s.value||n.Validators.texts[c],g=n.Validators.rules[c];if(!g)return console.error("No rule exists for "+c),null;i.texts[c]=d,i.rules[c]=g,f.$validators[c]=i.rules[c](e,a,u)}}return i}(a);s&&function(){e.$evalAsync(function(){e.$watch(l,function(r){var e=o(f.$error);n.ValidatorEvents.onElementError(f,a,e)})})}()}}}])}(Tuna||(Tuna={}));